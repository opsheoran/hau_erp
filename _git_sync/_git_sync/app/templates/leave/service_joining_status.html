{% extends "base.html" %}
{% from "includes/pager_macro.html" import render_pager %}
{% block content %}
{% block extra_head %}
<style>
    .tablesubheading { 
        background-color: #2d5a27 !important; 
        color: #ffffff !important; 
        font-weight: bold; 
        padding: 5px 10px; 
        font-size: 12px; 
        border: 1px solid #1e3d1a; 
        display: block; 
        width: 100%;
        box-sizing: border-box;
    }
</style>
{% endblock %}
<div class="hau-card">
    <div class="tablesubheading">Service Joining Status</div>
    <div style="padding: 15px;">
        <div class="tablesubheading" style="margin-bottom:10px;">Joining Dates</div>
        <table class="table-grid-view">
            <thead>
                <tr class="header-style">
                    <td>S.No.</td><td>Employee Name</td><td>Leave Type</td><td>Requested Date</td><td>From Date</td><td>To Date</td><td>Total Days</td><td>Contact No.</td><td>Joining Date</td><td>Joining Remark</td>
                </tr>
            </thead>
            <tbody>
                {% for h in history %}
                <tr class="{% if loop.index % 2 == 0 %}item-style-alt{% else %}item-style{% endif %}">
                    <td align="center">{{ loop.index + (pagination.page - 1) * 10 }}</td>
                    <td>{{ h.EmployeeName }}</td>
                    <td>{{ h.LeaveType }}</td>
                    <td align="center">{{ h.RequestedDate }}</td>
                    <td align="center">{{ h.FromDate }}</td>
                    <td align="center">{{ h.ToDate }}</td>
                    <td align="right">{{ "{:,.2f}".format(h.totalleavedays|float) }}</td>
                    <td align="center">{{ h.contactno or '' }}</td>
                    <td align="center" style="color: green; font-weight: bold;">{{ h.JoiningDate or '' }}</td>
                    <td>{{ h.JoiningRemark or '' }}</td>
                </tr>
                {% else %}
                <tr><td colspan="10" align="center" style="padding:20px;">No Record Found!</td></tr>
                {% endfor %}
            </tbody>
        </table>

        {{ render_pager(pagination) }}
    </div>
</div>
{% endblock %}